---
## Front matter
lang: ru-RU
title: Решеточные газы, решеточное уравнение Больцмана
subtitle: Групповой проект. Этап 4
author:
  - Команда №4 Абакумова О.М., Астраханцева А.А., Ганина Т.С., Ибатулина Д.Э.
institute:
  - Российский университет дружбы народов, Москва, Россия
date: 21 мая 2025


## i18n babel
babel-lang: russian
babel-otherlangs: english

## Formatting pdf
toc: false
toc-title: Содержание
slide_level: 2
aspectratio: 169
section-titles: true
theme: metropolis
header-includes:
 - \metroset{progressbar=frametitle,sectionpage=progressbar,numbering=fraction}
---

# Вводная часть

## Состав исследовательской команды

Студенты группы НФИбд-01/02-22:

- Абакумова Олеся Максимовна
- Астраханцева Анастасия Александровна
- Ганина Таисия Сергеевна
- Ибатулина Дарья Эдуардовна

## Постановка проблемы

Моделирование газовых потоков и жидкостей традиционными методами, такими как уравнения Навье-Стокса, требует значительных вычислительных ресурсов. 

Методы LGA и LBE предлагают альтернативу, упрощая вычисления при сохранении физической достоверности.

## Актуальность

1.  Исследования сложных многокомпонентных течений.
2.  Течений с фазовыми переходами и химическими реакциями.
3.  Создания высокопроизводительных параллельных алгоритмов.

## Задачи этапа

1.	Анализировать результаты тестирования модели
2.	Обсудить в команде итоги работы
3.	Оценить качество реализации проекта, в частности, написанного кода
4.	Подготовить материалы для защиты проекта
5.	Провести самооценку деятельности

# Основная часть

## Итоги первого этапа проекта

1. Изучили основные принципы решеточных моделей газа (LGA) и решеточного уравнения Больцмана (LBE).

2. Ознакомились с базовыми моделями: HPP, FHP-I, FHP-III, а также с расширенной моделью с 9 направлениями скорости.

3. Проанализировали физические свойства этих моделей: симметрию, анизотропию, возможность сохранения импульса и энергии, введение температуры.

4. Изучили область применимости этих моделей — от моделирования жидкостей до фазовых переходов и химических взаимодействий.

## Итоги второго этапа проекта

1. Мы подробно проанализировали алгоритмы распространения и столкновения частиц в решеточных моделях.

2. Были рассмотрены способы кодирования состояний узлов с помощью битовых операций, что обеспечило компактность и быстродействие реализации.

3. Сравнили особенности моделей HPP, FHP-I, FHP-III и LBM, включая их алгоритмическую сложность, вычислительные затраты, физическую реалистичность.

4. Сделали обоснованный выбор в пользу модели HPP, как стартовой точки: она проще в реализации, но при этом позволяет продемонстрировать ключевые принципы решеточного моделирования.

## Итоги третьего этапа проекта

1. Мы реализовали модель HPP на языке Julia.

2. Было реализовано три тестовых сценария, проверяющих:

- корректность перемещения одной частицы;

- корректность лобового столкновения;

- поведение при угловом столкновении четырёх частиц.

- Созданы анимации (GIF), наглядно демонстрирующие ход моделирования, а также сохранение физических величин во времени.
    
## Распределение ролей и организация взаимодействия

* Теоретический анализ - все участники, с последующим обсуждением на общем собрании.
* Программная реализация - основная ответственность легла на участников с наиболее сильными навыками программирования на Julia.
* Тестирование и визуализация - совместная работа.
* Оформление отчёта и презентаций - по частям, с последующим коллективным редактированием.

## Коллективное обсуждение решений

- Как лучше реализовать периодические граничные условия?
- Как структурировать код для удобства тестирования?
- Какие тесты наиболее полно проверяют корректность модели?
- Как визуализировать результаты, чтобы они были максимально наглядными?

## Программная реализация

- Параметры модели
- Создание сетки
- Добавление частиц
- Периодические граничные условия
- Обработка столкновений
- Распространение частиц
- Подсчёт числа частиц и импульса
- Визуализация
- Тесты

## Объяснение выбора архитектуры

- Периодические граничные условия выбраны для проверки корректности распространения частиц
- Разделение на функции повышает читаемость и удобство тестирования
- Визуализация позволяет не только проверить корректность работы кода, но и наглядно продемонстрировать физический смысл происходящих процессов

## Корректность работы модели

* Тест 1 (одна частица): частица движется по прямой, корректно "переходит" через границы, возвращаясь с противоположной стороны. Число частиц и импульс сохраняются.
* Тест 2 (лобовое столкновение): две частицы встречаются, после столкновения меняют направления строго по правилам HPP. Сохраняются число частиц и импульс.
* Тест 3 (столкновение под прямым углом): четыре частицы встречаются в одной точке, после столкновения разлетаются в новые направления. Все законы сохранения выполняются.

## Достижения и ограничения

+ Достижения: реализована полностью работоспособная модель HPP, все физические законы выполняются, тесты проходят успешно, визуализация информативна.
- Ограничения: модель HPP обладает известными недостатками (анизотропия, нефизичное поведение на макроуровне). Для более точного моделирования реальных жидкостей и газов требуются более сложные модели (например, FHP).

## Структурированность, читаемость и модульность

Код организован в виде отдельных функций, каждая из которых отвечает за свою задачу:

- создание сетки (`create_grid`),
- добавление частицы (`add_particle!`),
- применение граничных условий (`apply_periodic_boundaries!`),
- обработка столкновений (`collide!`),
- распространение частиц (`propagate!`),
- подсчёт числа частиц (`count_particles`),
- вычисление импульса (`calculate_momentum`),
- визуализация (`plot_grid`),
- запуск тестов (`run_all_tests`).

## Корректность реализации физических принципов

1. Периодические граничные условия

2. Столкновения частиц

3. Сохранение числа частиц и импульса

## Гибкость и расширяемость

- Размер сетки, направления движения, цвета для визуализации задаются в начале через константы, что позволяет легко менять параметры модели.
- Код легко масштабируется: можно увеличивать размеры сетки, добавлять новые сценарии тестирования, менять правила столкновений.
    
## Визуализация и наглядность

- Для каждого теста создаются анимации (GIF), где визуально отображается движение и столкновения частиц, а также аннотируются число частиц и импульс.
- Использование разных цветов для направлений делает анимации понятными даже без глубокого погружения в код.
- Визуализация помогает не только анализировать корректность, но и презентовать результаты на защите.

## Тестируемость и автоматизация проверки

В коде реализованы отдельные функции для трёх ключевых тестов:

- одна частица (проверка распространения и граничных условий)
- две частицы (лобовое столкновение)
- четыре частицы (столкновение под прямым углом)

Функция `run_all_tests` позволяет запускать все тесты последовательно, что удобно для автоматической проверки и демонстрации.

## Обработка ошибок и валидация данных

- Используются `@assert` для проверки корректности координат частиц и направлений при добавлении в сетку.
- Это предотвращает появление некорректных состояний и облегчает отладку.

## Документированность

- В отчёте приведены подробные комментарии к каждой функции, объясняющие смысл и работу каждого блока кода.
- Описаны все используемые параметры и логика работы алгоритма.

## Ограничения и честная самооценка

- В отчёте честно указаны ограничения самой модели HPP (анизотропия, нефизичность на макроуровне), а не только кода.
- Это говорит о критическом отношении к результату и понимании границ применимости

## Обсуждение трудностей и путей их решения

- Сложности с граничными условиями
- Проверка корректности столкновений
- Временные ограничения

## Индивидуальный и командный вклад

- Каждый участник внёс вклад в теорию, программирование, тестирование и оформление отчёта.
- Совместная работа позволила каждому освоить новые навыки: кто-то углубился в программирование на `Julia`, кто-то - в физику решеточных моделей, кто-то - в визуализацию данных.
- В процессе обсуждений и совместного поиска решений повысился уровень взаимопонимания и доверия в команде.

## Самооценка

- Цели этапа полностью достигнуты: реализована модель, проведено тестирование, оформлен подробный отчёт.
- Качество реализации: код структурирован, документирован, легко расширяется для новых задач.
- Командная работа: эффективное распределение задач, взаимопомощь, своевременное решение проблем.
- Личные достижения: каждый участник повысил свою квалификацию в области научного моделирования и командной работы.

## Выводы и рекомендации

- Освоить современные методы моделирования физических процессов.
- Получить опыт командной работы, научиться планировать и реализовывать сложные проекты.
- Научиться анализировать и визуализировать результаты моделирования.
- Критически оценивать свои достижения и ограничения.

## Возможное продолжение работы

- Модернизация модели: переход от HPP к FHP-III, чтобы устранить анизотропию и повысить физическую достоверность.

- Добавление термодинамики: переход к модели с 9 направлениями и введение температуры.

- Моделирование фазовых переходов: добавление сил взаимодействия между частицами.

- Переход к LBE: для описания вязких течений и сложных граничных условий.

- Параллелизация: реализация на GPU с помощью CUDA.jl для повышения производительности.


# Заключительная часть

## Выводы

Проект был реализован на высоком уровне благодаря слаженной работе команды, глубокому анализу теории и тщательному тестированию программной реализации. Каждый участник внёс значимый вклад, а коллективное обсуждение позволило не только добиться отличного результата, но и получить ценный опыт научного сотрудничества.

# Список литературы

1. Медведев Д.А. и др. Моделирование физических процессов и явлений на ПК: Учеб. пособие. // Новосибирск: Новосиб. гос. ун-т, 2010. 101 с.

2. [Чащин Г.С. Метод решёточных уравнений Больцмана](https://doi.org/10.20948/prepr-2021-99) // [Препринты. 2021. № 99. 31 с.](https://library.keldysh.ru/preprint.asp?id=2021-99).

3. Hardy J., Pomeau Y., de Pazzis O. Time evolution of a two-dimensional classical lattice system // Physical Review Letters. 1973. Vol. 31, № 5. P. 276–279. DOI: 10.1103/PhysRevLett.31.276

4. Succi, Sauro. The Lattice Boltzmann Equation for Fluid Dynamics and Beyond. Oxford University Press, 2001.
